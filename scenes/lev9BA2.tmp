[gd_scene load_steps=41 format=3 uid="uid://d1u5aua1npv8x"]

[ext_resource type="Script" path="res://scripts/level1.gd" id="1_p5w01"]
[ext_resource type="PackedScene" uid="uid://c1wjyxpcosrnk" path="res://scenes/hitBox.tscn" id="2_llbbf"]
[ext_resource type="PackedScene" uid="uid://cy55s7adwqtg8" path="res://scenes/PauseGame.tscn" id="3_0s5bg"]
[ext_resource type="Texture2D" uid="uid://cgvj35xs5qfnm" path="res://assets/img/role/role1/Flareon.png" id="3_v84tv"]
[ext_resource type="AudioStream" uid="uid://bq85i0hvt80vm" path="res://assets/music/hitBack.ogg" id="5_1wvdw"]
[ext_resource type="AudioStream" uid="uid://bur3amxkye5fg" path="res://assets/music/furryMusician.ogg" id="5_8ou0j"]

[sub_resource type="SpriteFrames" id="SpriteFrames_4k8dp"]

[sub_resource type="AtlasTexture" id="AtlasTexture_3ti0n"]
atlas = ExtResource("3_v84tv")
region = Rect2(0, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_723ch"]
atlas = ExtResource("3_v84tv")
region = Rect2(520, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_ftxn7"]
atlas = ExtResource("3_v84tv")
region = Rect2(1040, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_0uta4"]
atlas = ExtResource("3_v84tv")
region = Rect2(1560, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_0r3hb"]
atlas = ExtResource("3_v84tv")
region = Rect2(2080, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_dgwq6"]
atlas = ExtResource("3_v84tv")
region = Rect2(2600, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_rg1t2"]
atlas = ExtResource("3_v84tv")
region = Rect2(3120, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_ufw0w"]
atlas = ExtResource("3_v84tv")
region = Rect2(3640, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_071d3"]
atlas = ExtResource("3_v84tv")
region = Rect2(4160, 650, 520, 650)

[sub_resource type="AtlasTexture" id="AtlasTexture_tvkgb"]
atlas = ExtResource("3_v84tv")
region = Rect2(0, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_j2mj7"]
atlas = ExtResource("3_v84tv")
region = Rect2(475, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_q4nga"]
atlas = ExtResource("3_v84tv")
region = Rect2(950, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_kgse8"]
atlas = ExtResource("3_v84tv")
region = Rect2(1425, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_yep8e"]
atlas = ExtResource("3_v84tv")
region = Rect2(1900, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_43qp5"]
atlas = ExtResource("3_v84tv")
region = Rect2(2375, 0, 475, 600)

[sub_resource type="AtlasTexture" id="AtlasTexture_xqei5"]
atlas = ExtResource("3_v84tv")
region = Rect2(3000, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_kxhtp"]
atlas = ExtResource("3_v84tv")
region = Rect2(3500, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_sl5al"]
atlas = ExtResource("3_v84tv")
region = Rect2(4000, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_51p3v"]
atlas = ExtResource("3_v84tv")
region = Rect2(4500, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_c6edg"]
atlas = ExtResource("3_v84tv")
region = Rect2(5000, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_bqycl"]
atlas = ExtResource("3_v84tv")
region = Rect2(5500, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_ugdeb"]
atlas = ExtResource("3_v84tv")
region = Rect2(6000, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_roqbn"]
atlas = ExtResource("3_v84tv")
region = Rect2(6500, 0, 500, 550)

[sub_resource type="AtlasTexture" id="AtlasTexture_ksiou"]
atlas = ExtResource("3_v84tv")
region = Rect2(550, 2048, 550, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_02xcg"]
atlas = ExtResource("3_v84tv")
region = Rect2(1100, 2048, 550, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_gyy1j"]
atlas = ExtResource("3_v84tv")
region = Rect2(1650, 2048, 550, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_sn4u1"]
atlas = ExtResource("3_v84tv")
region = Rect2(2200, 2048, 550, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_evnxp"]
atlas = ExtResource("3_v84tv")
region = Rect2(2750, 2048, 550, 1024)

[sub_resource type="AtlasTexture" id="AtlasTexture_j3vn5"]
atlas = ExtResource("3_v84tv")
region = Rect2(6600, 2100, 550, 700)

[sub_resource type="AtlasTexture" id="AtlasTexture_atafr"]
atlas = ExtResource("3_v84tv")
region = Rect2(7150, 2100, 550, 700)

[sub_resource type="AtlasTexture" id="AtlasTexture_h0f40"]
atlas = ExtResource("3_v84tv")
region = Rect2(3500, 1400, 500, 700)

[sub_resource type="SpriteFrames" id="SpriteFrames_2wqbh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ti0n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_723ch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ftxn7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0uta4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0r3hb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dgwq6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rg1t2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ufw0w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_071d3")
}],
"loop": true,
"name": &"default",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tvkgb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j2mj7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q4nga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kgse8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yep8e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_43qp5")
}],
"loop": false,
"name": &"hit12",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xqei5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kxhtp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sl5al")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_51p3v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c6edg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bqycl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ugdeb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_roqbn")
}],
"loop": false,
"name": &"hit34",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ksiou")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_02xcg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gyy1j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sn4u1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_evnxp")
}],
"loop": false,
"name": &"hit56",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_j3vn5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_atafr")
}],
"loop": false,
"name": &"hit78",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h0f40")
}],
"loop": false,
"name": &"sad",
"speed": 24.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ryoxa"]
size = Vector2(1312, 64)

[node name="Level1" type="Node2D"]
script = ExtResource("1_p5w01")
hitBox = ExtResource("2_llbbf")

[node name="background" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_4k8dp")

[node name="role" type="AnimatedSprite2D" parent="."]
position = Vector2(256, 384)
scale = Vector2(0.561538, 0.561538)
sprite_frames = SubResource("SpriteFrames_2wqbh")
autoplay = "default"

[node name="levelInfo" type="ColorRect" parent="."]
offset_left = 64.0
offset_top = 64.0
offset_right = 320.0
offset_bottom = 192.0

[node name="information" type="Label" parent="levelInfo"]
layout_mode = 0
offset_right = 50.0
offset_bottom = 35.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 25
text = "信息"

[node name="line" type="Area2D" parent="."]

[node name="lineBody" type="ColorRect" parent="line"]
offset_left = -16.0
offset_top = 560.0
offset_right = 1296.0
offset_bottom = 592.0
color = Color(0.721077, 0.636058, 0.825227, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="line"]
position = Vector2(640, 576)
shape = SubResource("RectangleShape2D_ryoxa")

[node name="Score" type="ColorRect" parent="line"]
offset_left = 512.0
offset_top = 640.0
offset_right = 768.0
offset_bottom = 704.0

[node name="theScore" type="Label" parent="line/Score"]
layout_mode = 0
offset_left = 64.0
offset_top = 16.0
offset_right = 114.0
offset_bottom = 51.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 25
text = "得分"

[node name="PauseGame" parent="." instance=ExtResource("3_0s5bg")]
visible = false

[node name="hitBack" type="AudioStreamPlayer" parent="PauseGame"]
stream = ExtResource("5_1wvdw")

[node name="gameEnd" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 1280.0
offset_bottom = 720.0

[node name="success" type="ColorRect" parent="gameEnd"]
layout_mode = 0
offset_right = 1280.0
offset_bottom = 720.0

[node name="title" type="Label" parent="gameEnd/success"]
layout_mode = 0
offset_left = 440.0
offset_top = 64.0
offset_right = 840.0
offset_bottom = 201.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 100
text = "关卡通关"

[node name="successScore" type="Label" parent="gameEnd/success"]
layout_mode = 0
offset_left = 592.0
offset_top = 544.0
offset_right = 692.0
offset_bottom = 613.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 50
text = "得分"

[node name="failed" type="ColorRect" parent="gameEnd"]
visible = false
layout_mode = 0
offset_right = 1280.0
offset_bottom = 720.0

[node name="title" type="Label" parent="gameEnd/failed"]
layout_mode = 0
offset_left = 440.0
offset_top = 64.0
offset_right = 840.0
offset_bottom = 201.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 100
text = "游戏失败"

[node name="level1Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_8ou0j")

[connection signal="animation_finished" from="role" to="." method="_on_role_animation_finished"]
[connection signal="area_entered" from="line" to="." method="_on_line_area_entered"]
[connection signal="area_exited" from="line" to="." method="_on_line_area_exited"]
[connection signal="finished" from="PauseGame/hitBack" to="PauseGame" method="_on_hit_back_finished"]
[connection signal="finished" from="level1Music" to="." method="_on_level_1_music_finished"]
